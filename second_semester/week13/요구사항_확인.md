# ìš”êµ¬ì‚¬í•­ í™•ì¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

## âœ… ëª¨ë“  ìš”êµ¬ì‚¬í•­ì´ ì •ìƒì ìœ¼ë¡œ êµ¬í˜„ë˜ì—ˆìŠµë‹ˆë‹¤!

### 1. APIRouter ì‚¬ìš© âœ…

**ìœ„ì¹˜:** `domain/question/question_router.py` 12ë²ˆì§¸ ì¤„

```python
router = APIRouter(prefix='/api/question', tags=['question'])
```

âœ… **í™•ì¸:** APIRouterë¥¼ ì‚¬ìš©í•˜ì—¬ ë¼ìš°í„°ë¥¼ ìƒì„±í–ˆìŠµë‹ˆë‹¤.

---

### 2. prefixëŠ” "/api/question" âœ…

**ìœ„ì¹˜:** `domain/question/question_router.py` 12ë²ˆì§¸ ì¤„

```python
router = APIRouter(prefix='/api/question', tags=['question'])
```

âœ… **í™•ì¸:** prefixê°€ ì •í™•íˆ `/api/question`ìœ¼ë¡œ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤.

**ì‹¤ì œ ì—”ë“œí¬ì¸íŠ¸:** `GET /api/question/`

---

### 3. question_list() í•¨ìˆ˜ ìƒì„± âœ…

**ìœ„ì¹˜:** `domain/question/question_router.py` 28ë²ˆì§¸ ì¤„

```python
@router.get('/', response_model=List[QuestionResponse])
def question_list(db: Session = Depends(get_db)):
    '''
    ì§ˆë¬¸ ëª©ë¡ì„ ê°€ì ¸ì˜¨ë‹¤.
    
    SQLite ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ëª¨ë“  ì§ˆë¬¸ì„ ì¡°íšŒí•˜ì—¬ ë°˜í™˜í•œë‹¤.
    ORMì„ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤.
    '''
    # ORMì„ ì‚¬ìš©í•˜ì—¬ ëª¨ë“  Question ë ˆì½”ë“œë¥¼ ì¡°íšŒ
    questions = db.query(Question).all()
    return questions
```

âœ… **í™•ì¸:** `question_list()` í•¨ìˆ˜ê°€ ì •í™•íˆ êµ¬í˜„ë˜ì—ˆìŠµë‹ˆë‹¤.

---

### 4. ORMì„ ì´ìš©í•œ SQLite ë°ì´í„° ì¡°íšŒ âœ…

**ìœ„ì¹˜:** `domain/question/question_router.py` 36ë²ˆì§¸ ì¤„

```python
questions = db.query(Question).all()
```

âœ… **í™•ì¸:** 
- SQLAlchemy ORMì„ ì‚¬ìš© (`db.query()`)
- `Question` ëª¨ë¸ì„ ì‚¬ìš©í•˜ì—¬ ë°ì´í„° ì¡°íšŒ
- `.all()` ë©”ì„œë“œë¡œ ëª¨ë“  ë ˆì½”ë“œ ì¡°íšŒ
- SQLite ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜´

**ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°:** `database.py`ì˜ `get_db()` í•¨ìˆ˜ë¥¼ í†µí•´ SQLite ì„¸ì…˜ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.

---

### 5. GET ë©”ì†Œë“œ ì‚¬ìš© âœ…

**ìœ„ì¹˜:** `domain/question/question_router.py` 27ë²ˆì§¸ ì¤„

```python
@router.get('/', response_model=List[QuestionResponse])
def question_list(db: Session = Depends(get_db)):
```

âœ… **í™•ì¸:** `@router.get('/')` ë°ì½”ë ˆì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ GET ë©”ì†Œë“œë¡œ êµ¬í˜„ë˜ì—ˆìŠµë‹ˆë‹¤.

---

### 6. main.pyì— include_router()ë¡œ ë“±ë¡ âœ…

**ìœ„ì¹˜:** `main.py` 10ë²ˆì§¸ ì¤„, 16ë²ˆì§¸ ì¤„

```python
from domain.question.question_router import router as question_router

# FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ ì¸ìŠ¤í„´ìŠ¤
app = FastAPI(title='ê²Œì‹œíŒ API', description='ì§ˆë¬¸ CRUD ê¸°ëŠ¥ ì œê³µ', version='1.0.0')

# question_router ë“±ë¡
app.include_router(question_router)
```

âœ… **í™•ì¸:** 
- `question_router`ë¥¼ import
- `app.include_router(question_router)`ë¡œ ë“±ë¡
- FastAPIì˜ `include_router()` ë©”ì„œë“œ ì‚¬ìš©

---

## ğŸ§ª ì‹¤ì œ ë™ì‘ í™•ì¸

### API ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸ ê²°ê³¼

```bash
$ curl http://localhost:8000/api/question/
```

**ì‘ë‹µ:**
```json
[
    {
        "id": 1,
        "subject": "ì²« ë²ˆì§¸ ì§ˆë¬¸",
        "content": "ì´ê²ƒì€ í…ŒìŠ¤íŠ¸ìš© ì§ˆë¬¸ì…ë‹ˆë‹¤...",
        "create_date": "2025-11-17T13:04:52.053162"
    },
    ...
]
```

âœ… **í™•ì¸:** APIê°€ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•˜ë©° ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.

### Swagger UI í™•ì¸

**ì ‘ì†:** http://localhost:8000/docs

âœ… **í™•ì¸:**
- `GET /api/question/` ì—”ë“œí¬ì¸íŠ¸ê°€ í‘œì‹œë¨
- "question" íƒœê·¸ë¡œ ê·¸ë£¹í™”ë¨
- "Try it out"ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥
- ì •ìƒì ìœ¼ë¡œ ë°ì´í„° ë°˜í™˜

---

## ğŸ“‹ ìµœì¢… í™•ì¸

| ìš”êµ¬ì‚¬í•­ | ìƒíƒœ | ìœ„ì¹˜ |
|---------|------|------|
| APIRouter ì‚¬ìš© | âœ… | `question_router.py:12` |
| prefix="/api/question" | âœ… | `question_router.py:12` |
| question_list() í•¨ìˆ˜ | âœ… | `question_router.py:28` |
| ORMì„ ì´ìš©í•œ SQLite ì¡°íšŒ | âœ… | `question_router.py:36` |
| GET ë©”ì†Œë“œ ì‚¬ìš© | âœ… | `question_router.py:27` |
| include_router() ë“±ë¡ | âœ… | `main.py:16` |

---

## âœ… ê²°ë¡ 

**ëª¨ë“  ìš”êµ¬ì‚¬í•­ì´ ì •í™•í•˜ê²Œ êµ¬í˜„ë˜ì—ˆê³ , ì‹¤ì œë¡œ ì •ìƒ ì‘ë™í•©ë‹ˆë‹¤!**

- âœ… ì½”ë“œ êµ¬ì¡°ê°€ ìš”êµ¬ì‚¬í•­ì— ë§ê²Œ ì‘ì„±ë¨
- âœ… APIê°€ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•¨
- âœ… ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë°ì´í„°ë¥¼ ì •ìƒì ìœ¼ë¡œ ì¡°íšŒí•¨
- âœ… Swagger UIì—ì„œ í™•ì¸ ê°€ëŠ¥í•¨

**ë³´ë„ˆìŠ¤ ê³¼ì œë„ ì™„ë£Œ:** http://localhost:8000/docs ì—ì„œ ì§ˆë¬¸ ëª©ë¡ APIê°€ ì •ìƒ ì‘ë™í•˜ëŠ” ê²ƒì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤.


# Week 13 ìµœì¢… í™•ì¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

## âœ… ëª¨ë“  ìš”êµ¬ì‚¬í•­ êµ¬í˜„ ì™„ë£Œ

### 1. contextlibë¥¼ ì‚¬ìš©í•œ ì˜ì¡´ì„± ì£¼ì… âœ…
- [x] `database.py`ì— `from contextlib import contextmanager` import
- [x] `get_db()` í•¨ìˆ˜ì— `@contextmanager` ë°ì½”ë ˆì´í„° ì ìš©
- [x] `get_db()` í•¨ìˆ˜ê°€ `yield db`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì»¨í…ìŠ¤íŠ¸ ë§¤ë‹ˆì €ë¡œ ë™ì‘
- [x] `finally` ë¸”ë¡ì—ì„œ `db.close()`ë¡œ ì—°ê²° ì¢…ë£Œ

**í™•ì¸:**
```bash
grep -n "@contextmanager\|from contextlib" database.py
```

### 2. Dependsë¥¼ ì‚¬ìš©í•œ ì˜ì¡´ì„± ì£¼ì… âœ…
- [x] `question_router.py`ì˜ `question_list()`ì—ì„œ `Depends(get_db)` ì‚¬ìš©
- [x] FastAPIì˜ `Depends`ë¥¼ importí•˜ì—¬ ì‚¬ìš©

**í™•ì¸:**
```bash
grep -n "Depends" domain/question/question_router.py
```

### 3. Pydantic ìŠ¤í‚¤ë§ˆ ì‘ì„± âœ…
- [x] `schemas.py` íŒŒì¼ ìƒì„±
- [x] `QuestionResponse` ìŠ¤í‚¤ë§ˆê°€ `BaseModel`ì„ ìƒì†
- [x] `Config` í´ë˜ìŠ¤ì— `from_attributes = True` ì„¤ì •

**í™•ì¸:**
```bash
cat schemas.py
```

### 4. ìŠ¤í‚¤ë§ˆ ì‚¬ìš© âœ…
- [x] `question_router.py`ì—ì„œ `from schemas import QuestionResponse` import
- [x] `response_model=List[QuestionResponse]` ì‚¬ìš©

**í™•ì¸:**
```bash
grep -n "from schemas\|QuestionResponse" domain/question/question_router.py
```

### 5. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°/ì¢…ë£Œ í™•ì¸ âœ…
- [x] `ë°ì´í„°ë² ì´ìŠ¤_ì—°ê²°_í™•ì¸.py` íŒŒì¼ ìƒì„±
- [x] ë©”ì†Œë“œ í˜¸ì¶œ ì‹œë§ˆë‹¤ ì—°ê²°/ì¢…ë£Œ í™•ì¸ ê°€ëŠ¥

**í™•ì¸:**
```bash
python3 ë°ì´í„°ë² ì´ìŠ¤_ì—°ê²°_í™•ì¸.py
```

### 6. ë³´ë„ˆìŠ¤ ê³¼ì œ: orm_mode í…ŒìŠ¤íŠ¸ âœ…
- [x] `test_orm_mode.py` íŒŒì¼ ìƒì„±
- [x] `from_attributes = False`ì™€ `True` ê°ê° í…ŒìŠ¤íŠ¸
- [x] ê²°ê³¼ í™•ì¸ ë° ì„¤ëª… í¬í•¨

**í™•ì¸:**
```bash
python3 test_orm_mode.py
```

---

## ğŸš€ ì‹œì—° ìˆœì„œ

### 1ë‹¨ê³„: ì„œë²„ ì‹¤í–‰
```bash
cd week13
source venv/bin/activate
uvicorn main:app --reload
```

### 2ë‹¨ê³„: ìš”êµ¬ì‚¬í•­ í™•ì¸
```bash
cd week13
./ì‹œì—°_í™•ì¸.sh
```

### 3ë‹¨ê³„: ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í™•ì¸
```bash
cd week13
python3 ë°ì´í„°ë² ì´ìŠ¤_ì—°ê²°_í™•ì¸.py
```

### 4ë‹¨ê³„: API í…ŒìŠ¤íŠ¸
- ë¸Œë¼ìš°ì €: http://localhost:8000/docs
- ë˜ëŠ”: `curl http://localhost:8000/api/question/ | python3 -m json.tool`

### 5ë‹¨ê³„: ë³´ë„ˆìŠ¤ ê³¼ì œ í™•ì¸
```bash
cd week13
python3 test_orm_mode.py
```

---

## ğŸ“‹ í•µì‹¬ íŒŒì¼ í™•ì¸

| íŒŒì¼ | ìš”êµ¬ì‚¬í•­ | ìƒíƒœ |
|------|---------|------|
| `database.py` | `@contextmanager` ë°ì½”ë ˆì´í„° | âœ… |
| `domain/question/question_router.py` | `Depends(get_db)` ì‚¬ìš© | âœ… |
| `schemas.py` | Pydantic ìŠ¤í‚¤ë§ˆ ì‘ì„± | âœ… |
| `domain/question/question_router.py` | ìŠ¤í‚¤ë§ˆ import ë° ì‚¬ìš© | âœ… |
| `ë°ì´í„°ë² ì´ìŠ¤_ì—°ê²°_í™•ì¸.py` | ì—°ê²°/ì¢…ë£Œ í™•ì¸ | âœ… |
| `test_orm_mode.py` | ë³´ë„ˆìŠ¤ ê³¼ì œ | âœ… |

---

## âœ… ìµœì¢… í™•ì¸

ëª¨ë“  ìš”êµ¬ì‚¬í•­ì´ ì™„ë²½í•˜ê²Œ êµ¬í˜„ë˜ì—ˆìŠµë‹ˆë‹¤!


# 게시판 프로젝트 설명 가이드

## 📋 프로젝트 개요

이 프로젝트는 **메모리 기반 리스트 대신 데이터베이스를 사용하여 게시판 데이터를 영구 저장**하는 FastAPI 기반 웹 애플리케이션입니다.

### 핵심 목표

-   메모리 기반 저장의 한계 해결 (서버 재시작 시 데이터 손실 방지)
-   SQLAlchemy ORM을 사용한 데이터베이스 연동
-   Alembic을 이용한 데이터베이스 스키마 관리
-   RESTful API를 통한 질문 생성 및 조회 기능 제공

---

## 🏗️ 프로젝트 구조 설명

### 1. database.py - 데이터베이스 설정

**역할**: SQLAlchemy를 사용한 데이터베이스 연결 설정

**주요 내용**:

-   SQLite 데이터베이스 파일(`board.db`) 연결
-   `autocommit=False` 설정으로 명시적 트랜잭션 관리
-   세션 팩토리 생성 및 데이터베이스 세션 관리 함수 제공

**설명 포인트**:

```
"database.py는 데이터베이스와의 연결을 담당합니다.
SQLite를 사용하여 로컬 파일에 데이터를 저장하며,
autocommit=False로 설정하여 모든 데이터 변경은
명시적으로 commit()을 호출해야 저장되도록 했습니다."
```

### 2. models.py - 데이터 모델 정의

**역할**: 데이터베이스 테이블 구조를 Python 클래스로 정의

**주요 내용**:

-   `Question` 모델 클래스 정의
-   필드: `id`(Primary Key), `subject`(제목), `content`(내용), `create_date`(작성일시)

**설명 포인트**:

```
"models.py는 데이터베이스의 테이블 구조를 Python 클래스로 정의합니다.
Question 클래스는 질문 데이터를 나타내며, SQLAlchemy의 ORM 기능을 사용하여
데이터베이스와 Python 객체 간의 매핑을 자동으로 처리합니다."
```

### 3. main.py - FastAPI 애플리케이션

**역할**: RESTful API 엔드포인트 제공

**주요 기능**:

-   `POST /questions`: 새 질문 생성
-   `GET /questions`: 모든 질문 목록 조회
-   `GET /questions/{question_id}`: 특정 질문 조회

**설명 포인트**:

```
"main.py는 FastAPI를 사용하여 RESTful API를 제공합니다.
클라이언트는 HTTP 요청을 통해 질문을 생성하고 조회할 수 있으며,
모든 데이터는 SQLite 데이터베이스에 영구 저장됩니다."
```

### 4. Alembic - 데이터베이스 마이그레이션

**역할**: 데이터베이스 스키마 버전 관리

**주요 내용**:

-   `alembic.ini`: Alembic 설정 파일
-   `alembic/env.py`: 마이그레이션 환경 설정
-   `alembic/versions/`: 마이그레이션 파일 저장

**설명 포인트**:

```
"Alembic을 사용하여 데이터베이스 스키마를 버전 관리합니다.
모델 변경 시 revision 파일을 생성하고 실행하여
데이터베이스 구조를 자동으로 업데이트할 수 있습니다."
```

---

## 💬 발표 시 설명 순서

### 1단계: 문제 제기 (30초)

```
"기존에는 메모리 기반 리스트를 사용했는데,
서버가 재시작되거나 컴퓨터가 꺼지면 모든 데이터가 사라지는 문제가 있었습니다.
이를 해결하기 위해 데이터베이스를 도입했습니다."
```

### 2단계: 기술 스택 소개 (30초)

```
"이 프로젝트에서는 다음과 같은 기술을 사용했습니다:
- FastAPI: 빠르고 현대적인 웹 프레임워크
- SQLAlchemy: Python ORM으로 데이터베이스 작업을 쉽게 처리
- Alembic: 데이터베이스 스키마 버전 관리
- SQLite: 가벼운 파일 기반 데이터베이스"
```

### 3단계: 프로젝트 구조 설명 (1분)

```
"프로젝트는 크게 4개의 주요 파일로 구성됩니다:

1. database.py: 데이터베이스 연결 설정
   - SQLite 연결 및 세션 관리

2. models.py: 데이터 모델 정의
   - Question 모델로 질문 데이터 구조 정의

3. main.py: API 엔드포인트 구현
   - 질문 생성, 조회 기능 제공

4. Alembic: 데이터베이스 마이그레이션
   - 스키마 변경 관리"
```

### 4단계: 핵심 기능 시연 (1분)

```
"주요 기능은 다음과 같습니다:

1. 질문 생성 (POST /questions)
   - Swagger UI에서 질문 제목과 내용을 입력하면
   - 데이터베이스에 자동으로 저장됩니다

2. 질문 조회 (GET /questions)
   - 저장된 모든 질문을 조회할 수 있습니다

3. 데이터베이스 확인
   - SQLite 명령줄이나 DB Browser로
   - 실제로 데이터가 저장되었는지 확인할 수 있습니다"
```

### 5단계: 과제 요구사항 충족 (30초)

```
"과제에서 요구한 모든 사항을 충족했습니다:
✅ SQLAlchemy ORM 사용
✅ SQLite 데이터베이스 연동
✅ autocommit=False 설정
✅ Question 모델 구현 (id, subject, content, create_date)
✅ Alembic을 이용한 revision 파일 생성 및 실행
✅ SQLite 테이블 생성 확인"
```

---

## 🎯 핵심 설명 포인트

### 1. 왜 데이터베이스를 사용했나?

```
"메모리 기반 저장은 서버 재시작 시 데이터가 사라지는 문제가 있습니다.
데이터베이스를 사용하면 데이터가 파일에 영구 저장되어
서버가 재시작되어도 데이터가 유지됩니다."
```

### 2. ORM을 사용한 이유는?

```
"ORM(Object Relational Mapping)을 사용하면
SQL 쿼리를 직접 작성하지 않고도 Python 객체로
데이터베이스를 쉽게 다룰 수 있습니다.
코드가 더 읽기 쉽고 유지보수가 편리합니다."
```

### 3. Alembic의 역할은?

```
"Alembic은 데이터베이스 스키마 변경을 버전 관리합니다.
모델을 수정하면 revision 파일을 생성하고,
이를 실행하여 데이터베이스 구조를 자동으로 업데이트합니다.
팀 협업 시 스키마 변경 이력을 추적할 수 있습니다."
```

### 4. autocommit=False의 의미는?

```
"autocommit=False로 설정하면 모든 데이터 변경은
명시적으로 commit()을 호출해야 저장됩니다.
이를 통해 트랜잭션을 더 세밀하게 제어할 수 있고,
에러 발생 시 rollback()으로 변경사항을 취소할 수 있습니다."
```

---

## 📊 시연 시나리오

### 시나리오 1: 질문 생성 및 조회

1. **서버 실행**

    ```bash
    uvicorn main:app --reload
    ```

2. **Swagger UI 접속**

    - http://127.0.0.1:8000/docs

3. **질문 생성**

    - POST /questions 클릭
    - Request body 입력:
        ```json
        {
            "subject": "FastAPI 질문",
            "content": "FastAPI는 어떻게 사용하나요?"
        }
        ```
    - Execute 클릭
    - Response에서 생성된 질문 확인

4. **질문 조회**

    - GET /questions 클릭
    - Execute 클릭
    - 저장된 질문 목록 확인

5. **데이터베이스 확인**
    ```bash
    sqlite3 board.db "SELECT * FROM question;"
    ```

### 시나리오 2: 데이터베이스 구조 확인

1. **DB Browser 열기**

    ```bash
    open -a "DB Browser for SQLite" board.db
    ```

2. **테이블 구조 확인**

    - Database Structure 탭에서 question 테이블 확인
    - 컬럼 정보 확인 (id, subject, content, create_date)

3. **데이터 확인**
    - Browse Data 탭에서 저장된 데이터 확인

---

## ❓ 예상 질문과 답변

### Q1: 왜 SQLite를 선택했나요?

```
"SQLite는 파일 기반 데이터베이스로 별도의 서버 설치가 필요 없고,
가볍고 빠르며, 개발 및 테스트 환경에 적합합니다.
프로젝트 규모가 작아서 SQLite로 충분했고,
나중에 필요하면 PostgreSQL이나 MySQL로 쉽게 전환할 수 있습니다."
```

### Q2: FastAPI를 선택한 이유는?

```
"FastAPI는 현대적이고 빠른 웹 프레임워크입니다.
자동 API 문서 생성(Swagger UI) 기능이 내장되어 있어
개발과 테스트가 편리합니다.
또한 타입 힌팅을 지원하여 코드의 안정성이 높습니다."
```

### Q3: Alembic 없이 직접 SQL로 테이블을 만들 수 있지 않나요?

```
"네, 가능합니다. 하지만 Alembic을 사용하면:
1. 스키마 변경 이력을 추적할 수 있습니다
2. 팀 협업 시 일관된 데이터베이스 구조를 유지할 수 있습니다
3. 모델 변경 시 자동으로 마이그레이션 파일을 생성할 수 있습니다
4. 프로덕션 환경에서 안전하게 스키마를 업데이트할 수 있습니다"
```

### Q4: autocommit=False를 사용하는 이유는?

```
"autocommit=False로 설정하면:
1. 여러 작업을 하나의 트랜잭션으로 묶을 수 있습니다
2. 에러 발생 시 rollback()으로 모든 변경사항을 취소할 수 있습니다
3. 데이터 일관성을 보장할 수 있습니다
예를 들어, 질문과 답변을 동시에 생성할 때 하나라도 실패하면
모두 취소되어 데이터 무결성을 유지할 수 있습니다."
```

---

## ✅ 체크리스트

발표 전 확인사항:

-   [ ] 서버가 정상적으로 실행되는지 확인
-   [ ] Swagger UI가 정상적으로 열리는지 확인
-   [ ] 데이터베이스에 테스트 데이터가 있는지 확인
-   [ ] DB Browser로 데이터베이스 구조를 확인할 수 있는지 확인
-   [ ] 주요 코드 파일의 주석이 잘 되어 있는지 확인

---

## 📝 간단한 설명 템플릿 (2분 버전)

```
안녕하세요. 이번에 게시판 프로젝트를 구현했습니다.

기존에는 메모리 기반 리스트를 사용했는데, 서버가 재시작되면
데이터가 사라지는 문제가 있었습니다. 이를 해결하기 위해
SQLite 데이터베이스를 도입했습니다.

주요 기술 스택은 FastAPI, SQLAlchemy ORM, Alembic입니다.

프로젝트 구조는 다음과 같습니다:
- database.py: 데이터베이스 연결 설정
- models.py: Question 모델 정의
- main.py: RESTful API 구현
- Alembic: 데이터베이스 마이그레이션 관리

주요 기능은 질문 생성과 조회입니다.
Swagger UI를 통해 API를 테스트할 수 있고,
모든 데이터는 SQLite 데이터베이스에 영구 저장됩니다.

과제 요구사항을 모두 충족했으며,
autocommit=False 설정, Alembic을 이용한 마이그레이션,
SQLite 테이블 생성 확인까지 완료했습니다.

감사합니다.
```
